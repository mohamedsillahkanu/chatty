<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Office Chat App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
            background-color: #f3f4f6;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 256px;
            background-color: #312e81;
            color: white;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }

        .sidebar.hidden {
            width: 0;
            overflow: hidden;
        }

        .workspace-header {
            padding: 1rem;
            border-bottom: 1px solid #4c1d95;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .workspace-header h1 {
            font-size: 1.125rem;
            font-weight: bold;
        }

        .workspace-subtitle {
            font-size: 0.75rem;
            color: #c7d2fe;
        }

        .icon-btn {
            padding: 0.25rem;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .icon-btn:hover {
            background-color: #4c1d95;
        }

        .icon-btn-small {
            padding: 0.25rem;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .icon-btn-small:hover {
            background-color: #4c1d95;
        }

        .search-container {
            padding: 0.75rem;
        }

        .search-input-wrapper {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 0.625rem;
            color: #c7d2fe;
        }

        .search-input {
            width: 100%;
            padding: 0.5rem 0.75rem 0.5rem 2.25rem;
            background-color: #4c1d95;
            border: none;
            border-radius: 0.25rem;
            color: white;
            font-size: 0.875rem;
        }

        .search-input::placeholder {
            color: #c7d2fe;
        }

        .search-input:focus {
            outline: none;
            ring: 2px solid #6366f1;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
        }

        .section {
            padding: 0.75rem;
        }

        .dm-section {
            border-top: 1px solid #4c1d95;
            margin-top: 0.5rem;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .section-header h3 {
            font-size: 0.75rem;
            font-weight: 600;
            color: #c7d2fe;
        }

        .channel-item, .dm-item {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.375rem 0.5rem;
            background: transparent;
            border: none;
            border-radius: 0.25rem;
            color: #e0e7ff;
            cursor: pointer;
            margin-bottom: 0.25rem;
            font-size: 0.875rem;
            text-align: left;
        }

        .channel-item:hover, .dm-item:hover {
            background-color: #4c1d95;
        }

        .channel-item.active, .dm-item.active {
            background-color: #4338ca;
            color: white;
        }

        .channel-item-left, .dm-item-left {
            display: flex;
            align-items: center;
        }

        .channel-item-left svg {
            margin-right: 0.5rem;
        }

        .dm-avatar-container {
            position: relative;
            margin-right: 0.5rem;
        }

        .dm-avatar {
            font-size: 1.125rem;
        }

        .status-indicator {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: 2px solid #312e81;
        }

        .status-indicator.online {
            background-color: #4ade80;
        }

        .status-indicator.away {
            background-color: #facc15;
        }

        .unread-badge {
            background-color: #ef4444;
            color: white;
            font-size: 0.75rem;
            border-radius: 9999px;
            padding: 0.125rem 0.5rem;
        }

        .user-profile {
            padding: 0.75rem;
            border-top: 1px solid #4c1d95;
            display: flex;
            align-items: center;
        }

        .user-avatar-container {
            position: relative;
            margin-right: 0.75rem;
        }

        .user-avatar {
            font-size: 1.5rem;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .user-status {
            font-size: 0.75rem;
            color: #c7d2fe;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header-left {
            display: flex;
            align-items: center;
        }

        .channel-icon {
            color: #4b5563;
            margin-right: 0.5rem;
        }

        .chat-header h2 {
            font-size: 1.125rem;
            font-weight: 600;
        }

        .member-count {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .chat-header-right {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chat-header .icon-btn {
            color: #4b5563;
        }

        .chat-header .icon-btn:hover {
            background-color: #f3f4f6;
        }

        .mobile-only {
            display: none;
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .message {
            display: flex;
            margin-bottom: 1rem;
        }

        .message.own {
            justify-content: flex-end;
        }

        .message-content {
            display: flex;
            max-width: 672px;
        }

        .message.own .message-content {
            flex-direction: row-reverse;
        }

        .message-avatar {
            flex-shrink: 0;
            font-size: 1.5rem;
        }

        .message.own .message-avatar {
            margin-left: 0.75rem;
        }

        .message:not(.own) .message-avatar {
            margin-right: 0.75rem;
        }

        .message-body {
            text-align: left;
        }

        .message.own .message-body {
            text-align: right;
        }

        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 0.25rem;
        }

        .message-user {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .message.own .message-user {
            margin-left: 0.5rem;
            order: 2;
        }

        .message:not(.own) .message-user {
            margin-right: 0.5rem;
        }

        .message-time {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .message.own .message-time {
            order: 1;
        }

        .message-bubble {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        .message.own .message-bubble {
            background-color: #4f46e5;
            color: white;
        }

        .message:not(.own) .message-bubble {
            background-color: white;
            border: 1px solid #e5e7eb;
        }

        .message-text {
            font-size: 0.875rem;
        }

        .message-input-container {
            background-color: white;
            border-top: 1px solid #e5e7eb;
            padding: 1rem;
        }

        .message-form {
            display: flex;
            align-items: flex-end;
            gap: 0.5rem;
        }

        .input-wrapper {
            flex: 1;
            background-color: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
        }

        .input-toolbar {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .toolbar-btn {
            padding: 0.25rem;
            background: transparent;
            border: none;
            color: #4b5563;
            cursor: pointer;
            border-radius: 0.25rem;
            margin-right: 0.25rem;
        }

        .toolbar-btn:hover {
            background-color: #e5e7eb;
        }

        .message-textarea {
            width: 100%;
            padding: 0.75rem;
            background: transparent;
            border: none;
            resize: none;
            font-family: inherit;
            font-size: 0.875rem;
        }

        .message-textarea:focus {
            outline: none;
        }

        .send-btn {
            background-color: #4f46e5;
            color: white;
            padding: 0.75rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .send-btn:hover {
            background-color: #4338ca;
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .mobile-only {
                display: block;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar">
            <!-- Workspace Header -->
            <div class="workspace-header">
                <div>
                    <h1>MyCompany</h1>
                    <p class="workspace-subtitle">Workspace</p>
                </div>
                <button class="icon-btn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m0 6l4.2 4.2M1 12h6m6 0h6m-13.2 5.2l4.2-4.2m0-6L5.8 5.8"></path>
                    </svg>
                </button>
            </div>

            <!-- Search -->
            <div class="search-container">
                <div class="search-input-wrapper">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" placeholder="Search..." class="search-input">
                </div>
            </div>

            <!-- Channels -->
            <div class="sidebar-content">
                <div class="section">
                    <div class="section-header">
                        <h3>CHANNELS</h3>
                        <button class="icon-btn-small">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                    <div id="channelsList"></div>
                </div>

                <!-- Direct Messages -->
                <div class="section dm-section">
                    <div class="section-header">
                        <h3>DIRECT MESSAGES</h3>
                        <button class="icon-btn-small">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                    <div id="dmList"></div>
                </div>
            </div>

            <!-- User Profile -->
            <div class="user-profile">
                <div class="user-avatar-container">
                    <span class="user-avatar">😊</span>
                    <span class="status-indicator online"></span>
                </div>
                <div class="user-info">
                    <p class="user-name">You</p>
                    <p class="user-status">Active</p>
                </div>
                <button class="icon-btn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="1"></circle>
                        <circle cx="12" cy="5" r="1"></circle>
                        <circle cx="12" cy="19" r="1"></circle>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-content">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-header-left">
                    <button id="toggleSidebar" class="icon-btn mobile-only">
                        <svg id="menuIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="channel-icon">
                        <path d="M4 7h16M4 12h16M4 17h10"></path>
                    </svg>
                    <div>
                        <h2 id="channelName">general</h2>
                        <p class="member-count">12 members</p>
                    </div>
                </div>
                <div class="chat-header-right">
                    <button class="icon-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </button>
                    <button class="icon-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                    <button class="icon-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="12" cy="5" r="1"></circle>
                            <circle cx="12" cy="19" r="1"></circle>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Messages -->
            <div id="messagesContainer" class="messages-container"></div>

            <!-- Message Input -->
            <div class="message-input-container">
                <form id="messageForm" class="message-form">
                    <div class="input-wrapper">
                        <div class="input-toolbar">
                            <button type="button" class="toolbar-btn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                                </svg>
                            </button>
                            <button type="button" class="toolbar-btn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                                    <line x1="9" y1="9" x2="9.01" y2="9"></line>
                                    <line x1="15" y1="9" x2="15.01" y2="9"></line>
                                </svg>
                            </button>
                        </div>
                        <textarea 
                            id="messageInput" 
                            placeholder="Message #general" 
                            rows="3"
                            class="message-textarea"
                        ></textarea>
                    </div>
                    <button type="submit" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Application State
        let state = {
            selectedChannel: 'general',
            sidebarOpen: true,
            messages: {
                general: [
                    { id: 1, user: 'Sarah Chen', avatar: '👩‍💼', text: 'Good morning team! Ready for the product review?', time: '9:15 AM', isOwn: false },
                    { id: 2, user: 'You', avatar: '😊', text: 'Yes! I have the slides ready', time: '9:16 AM', isOwn: true },
                    { id: 3, user: 'Mike Rodriguez', avatar: '👨‍💻', text: 'Great! Can you share them in the channel?', time: '9:17 AM', isOwn: false }
                ],
                engineering: [
                    { id: 1, user: 'Alex Kumar', avatar: '👨‍🔧', text: 'The new API endpoints are deployed to staging', time: '8:30 AM', isOwn: false },
                    { id: 2, user: 'You', avatar: '😊', text: 'Awesome! I\'ll start testing now', time: '8:32 AM', isOwn: true }
                ],
                design: [
                    { id: 1, user: 'Emma Wilson', avatar: '🎨', text: 'New mockups are ready for review', time: '10:00 AM', isOwn: false }
                ],
                random: [
                    { id: 1, user: 'Chris Lee', avatar: '🎮', text: 'Anyone up for lunch at the new taco place?', time: '11:45 AM', isOwn: false },
                    { id: 2, user: 'You', avatar: '😊', text: 'I\'m in! What time?', time: '11:46 AM', isOwn: true },
                    { id: 3, user: 'Chris Lee', avatar: '🎮', text: 'How about 12:30?', time: '11:47 AM', isOwn: false }
                ]
            },
            channels: [
                { id: 'general', name: 'general', unread: 0 },
                { id: 'engineering', name: 'engineering', unread: 2 },
                { id: 'design', name: 'design', unread: 1 },
                { id: 'random', name: 'random', unread: 0 }
            ],
            directMessages: [
                { id: 'sarah', name: 'Sarah Chen', avatar: '👩‍💼', status: 'online', unread: 0 },
                { id: 'mike', name: 'Mike Rodriguez', avatar: '👨‍💻', status: 'away', unread: 1 },
                { id: 'alex', name: 'Alex Kumar', avatar: '👨‍🔧', status: 'online', unread: 0 }
            ]
        };

        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const toggleSidebarBtn = document.getElementById('toggleSidebar');
        const channelsList = document.getElementById('channelsList');
        const dmList = document.getElementById('dmList');
        const messagesContainer = document.getElementById('messagesContainer');
        const messageForm = document.getElementById('messageForm');
        const messageInput = document.getElementById('messageInput');
        const channelName = document.getElementById('channelName');

        // Initialize the app
        function init() {
            renderChannels();
            renderDirectMessages();
            renderMessages();
            attachEventListeners();
        }

        // Render channels list
        function renderChannels() {
            channelsList.innerHTML = state.channels.map(channel => `
                <button class="channel-item ${state.selectedChannel === channel.id ? 'active' : ''}" data-channel="${channel.id}">
                    <div class="channel-item-left">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 7h16M4 12h16M4 17h10"></path>
                        </svg>
                        <span>${channel.name}</span>
                    </div>
                    ${channel.unread > 0 ? `<span class="unread-badge">${channel.unread}</span>` : ''}
                </button>
            `).join('');
        }

        // Render direct messages list
        function renderDirectMessages() {
            dmList.innerHTML = state.directMessages.map(dm => `
                <button class="dm-item ${state.selectedChannel === dm.id ? 'active' : ''}" data-channel="${dm.id}">
                    <div class="dm-item-left">
                        <div class="dm-avatar-container">
                            <span class="dm-avatar">${dm.avatar}</span>
                            <span class="status-indicator ${dm.status}"></span>
                        </div>
                        <span>${dm.name}</span>
                    </div>
                    ${dm.unread > 0 ? `<span class="unread-badge">${dm.unread}</span>` : ''}
                </button>
            `).join('');
        }

        // Render messages for the current channel
        function renderMessages() {
            const currentMessages = state.messages[state.selectedChannel] || [];
            
            messagesContainer.innerHTML = currentMessages.map(msg => `
                <div class="message ${msg.isOwn ? 'own' : ''}">
                    <div class="message-content">
                        <div class="message-avatar">${msg.avatar}</div>
                        <div class="message-body">
                            <div class="message-header">
                                <span class="message-user">${msg.user}</span>
                                <span class="message-time">${msg.time}</span>
                            </div>
                            <div class="message-bubble">
                                <p class="message-text">${msg.text}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            scrollToBottom();
        }

        // Scroll to the bottom of messages
        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Handle channel selection
        function selectChannel(channelId) {
            state.selectedChannel = channelId;
            channelName.textContent = channelId;
            messageInput.placeholder = `Message #${channelId}`;
            renderChannels();
            renderDirectMessages();
            renderMessages();
        }

        // Handle sending a message
        function sendMessage(e) {
            e.preventDefault();
            
            const text = messageInput.value.trim();
            if (!text) return;
            
            const newMessage = {
                id: Date.now(),
                user: 'You',
                avatar: '😊',
                text: text,
                time: new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }),
                isOwn: true
            };
            
            if (!state.messages[state.selectedChannel]) {
                state.messages[state.selectedChannel] = [];
            }
            
            state.messages[state.selectedChannel].push(newMessage);
            messageInput.value = '';
            renderMessages();
        }

        // Toggle sidebar visibility
        function toggleSidebar() {
            state.sidebarOpen = !state.sidebarOpen;
            sidebar.classList.toggle('hidden');
        }

        // Attach event listeners
        function attachEventListeners() {
            // Channel selection
            channelsList.addEventListener('click', (e) => {
                const channelBtn = e.target.closest('.channel-item');
                if (channelBtn) {
                    const channelId = channelBtn.dataset.channel;
                    selectChannel(channelId);
                }
            });
            
            // DM selection
            dmList.addEventListener('click', (e) => {
                const dmBtn = e.target.closest('.dm-item');
                if (dmBtn) {
                    const channelId = dmBtn.dataset.channel;
                    selectChannel(channelId);
                }
            });
            
            // Send message
            messageForm.addEventListener('submit', sendMessage);
            
            // Enter key to send (Shift+Enter for new line)
            messageInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage(e);
                }
            });
            
            // Toggle sidebar
            toggleSidebarBtn.addEventListener('click', toggleSidebar);
        }

        // Start the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
